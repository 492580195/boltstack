LuaRuntime的线程安全问题，注意同一个XL_LRT_RUNTIME_HANDLE和对应的lua_state不可以在多个线程里面使用，只可以在初始线程里面使用；如果有需要在线程里面操作lua代码的需要的话， 参考附件里面的文档；在开发时候，尽量使用XLLuaRuntime.dll的日志版本，这样假如出现跨线程的不正确的访问，会弹出错误提示.

一般情况下没有必须在线程里面操作lua的必要，除非你们完全是为了使用lua，而不是引擎本身

有下面三点需要注意：

1. 同一个luastate和luaruntime，只可以在创建线程里面使用，无论什么情况都不可以跨线程访问；除非你们自己定制线程安全的lua虚拟机，这个需要去了解下lua的相关说明
2. 默认ENV是BOLT引擎的所有接口注册的默认环境，由于引擎的接口都不是线程安全的，所以默认ENV以及从该ENV创建的所有的luaruntime，都不可以在非主线程(确切的说是XLUE初始化线程)里面使用
3. 非主线程里面不可以操作引擎的任何lua接口，包括全局方法、全局对象、全局class以及回调事件等任何XLUE相关模块的扩展

如果你们真要在线程里面使用luaruntime，那么：

1. 创建新的env，并注册自己的lua扩展到env，注意这个env是没有bolt的各种全局方法、全局对象的，是一个“全新”的ENV
2. 在需要的线程里面，从ENV创建自己的luaruntime，然后在这个线程里面使用这个luaruntime
3. 如果这个ENV创建了一个以上runtime，并且每个runtime都在不同线程，那么需要确保注册到这个ENV的所有接口都是线程安全的